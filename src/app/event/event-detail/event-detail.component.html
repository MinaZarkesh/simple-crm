
<mat-grid-list cols="4" rowHeight="100px">
  <mat-grid-tile class="user-info-header-one" [colspan]="3" [rowspan]="1" [attr.style]="'background-color: lightblue'">
    <span>
      {{this.getEventById(this.eventId).description}}
    </span>
  </mat-grid-tile>
  <mat-grid-tile class="user-info-header-two" [colspan]="1" [rowspan]="2" [attr.style]="'background-color: lightgreen'" >
    <ul>
      <li *ngFor="let item of this.getEventById(this.eventId).witnesses">{{this.getWitnessById(item).name}}</li>
    </ul>
  </mat-grid-tile>
  <mat-grid-tile [colspan]="1" [rowspan]="1" [attr.style]="'background-color:  lightpink'" >
    <div class="user-info-header-three">
      <span>Datum: {{this.getEventById(this.eventId).date}}</span>
      <span>Uhrzeit: {{this.getEventById(this.eventId).time}} Uhr</span>
    </div>
  </mat-grid-tile>
  <mat-grid-tile [colspan]="2" [rowspan]="1" [attr.style]="'background-color: #DDBDF1 '" >
    <div class="user-info-header-three">
      <span>{{this.getEventById(this.eventId).place}}</span>
    </div>
  </mat-grid-tile>
</mat-grid-list>

<mat-tab-group class="mt-32" animationDuration="0ms">
  <mat-tab *ngFor="let item of this.getEventById(this.eventId).witnesses" label="{{this.getWitnessById(item).name}}">
    <h2>{{this.getWitnessById(item).name}}</h2>
    <mat-card class="example-card">
      <mat-card-header>
        <div mat-card-avatar class="example-header-image"></div>
        <mat-card-title>Fakten zu {{this.getWitnessById(item).name}}</mat-card-title>
        <mat-card-subtitle>{{this.getWitnessById(item).role}}</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <p>
          The Shiba Inu is the smallest of the six original and distinct spitz breeds of dog from Japan.
          A small, agile dog that copes very well with mountainous terrain, the Shiba Inu was originally
          bred for hunting.
        </p>
      </mat-card-content>
      <mat-card-actions>
        <a mat-button [routerLink]="['/witnesses/' + item]">Link zum {{this.getWitnessById(item).name}}</a>
        <!-- <button mat-button>SHARE</button> -->
      </mat-card-actions>
    </mat-card>
    <p>Aussagen von {{this.getWitnessById(item).name}}</p>
    <mat-accordion>
        
    
      @for (statement of this.filterStatementsByWitnessId(this.fireService.id); track statement; let i = $index ){
      <mat-expansion-panel
        (opened)="panelOpenState = true"
        (closed)="panelOpenState = false"
      >
        <mat-expansion-panel-header>
          <mat-panel-title>
            {{ statement.date }} {{ statement.time }} ,
            {{ statement.place }}
          </mat-panel-title>
          <mat-panel-description>
            Currently I am {{panelOpenState ? 'open' : 'closed'}} 
            {{ getEventById(statement.event).description }}
          </mat-panel-description>
        </mat-expansion-panel-header>
        <button 
        mat-icon-button
        class="pin-right-corner-t48"
        [matMenuTriggerFor]="statementMenu"
        (click)="panelOpenState = true"
      >
        <mat-icon >more_vert</mat-icon>
      </button>
      <mat-menu #statementMenu="matMenu">
        <button mat-menu-item (click)="openEditStatementDialog(i)">Aussage bearbeiten</button>
        <button mat-menu-item (click)="openDeleteStatementDialog(i)">Aussage löschen</button>
      </mat-menu>
        <mat-card class="event-info">
          <button 
          mat-icon-button
          class="pin-right-upper-corner"
          (click)="openEditEventDialog(getEventById(statement.event))"
          >
          <mat-icon >edit</mat-icon>
        </button>
      
          <div>
            <p>
              {{ getEventById(statement.event).date }}
              {{ getEventById(statement.event).time }}
            </p>
            <p>{{ getEventById(statement.event).place }}</p>
            <p>{{ getWitnessListbyStatementId(statement.docId) }}</p>
          </div>
        </mat-card>
    
        <mat-form-field class="full-width mt-32">
          <mat-label>Aussage selbst</mat-label>
          <textarea
            rows="5"
            [disabled]="checked"
            matInput
            [(ngModel)]="statement.comment"
            placeholder="Aussage selbst"
          >
       {{ statement.comment }}</textarea
          >
        </mat-form-field>
    
        <section class="example-section">
          <mat-slide-toggle
            class="example-margin"
            [color]="color"
            [checked]="checked"
            (change)="checkStatement(i)"
          >
            Aussage von Zeugen bestätigt!
          </mat-slide-toggle>
        </section>
    
        <p>Querverweise</p>
        <button mat-button [matMenuTriggerFor]="aboveMenu">Above</button>
        <mat-menu #aboveMenu="matMenu" yPosition="above">
          <button mat-menu-item>Item 1</button>
          <button mat-menu-item>Item 2</button>
        </mat-menu>
    
        <button mat-button [matMenuTriggerFor]="belowMenu">Below</button>
        <mat-menu #belowMenu="matMenu" yPosition="below">
          <button mat-menu-item>Item 1</button>
          <button mat-menu-item>Item 2</button>
        </mat-menu>
    
        <button mat-button [matMenuTriggerFor]="beforeMenu">Before</button>
        <mat-menu #beforeMenu="matMenu" xPosition="before">
          <button mat-menu-item>Item 1</button>
          <button mat-menu-item>Item 2</button>
        </mat-menu>
    
        <button mat-button [matMenuTriggerFor]="afterMenu">After</button>
        <mat-menu #afterMenu="matMenu" xPosition="after">
          <button mat-menu-item>Item 1</button>
          <button mat-menu-item>Item 2</button>
        </mat-menu>
      </mat-expansion-panel>
      }@empty {
      <li>There are no items.</li>
      }
    </mat-accordion>
  </mat-tab>
</mat-tab-group>

<button (click)="this.getEventById(this.eventId)">Testing</button>